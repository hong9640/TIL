# 디장고
- 어떻게 풀기 보다는 어떻게 조합할지에 집중해야 한다.
- 프레임워크를 통해 최종적으로 웹 어플리케이션을 개발한다.
- 프레임워크는 이미 만들어진 도구로 문서와 예제 코드를 보며 활용법을 빠르게 습득하는 것이다.
- 그래서 프레임워크는 조립과 활용에 초점을 맞춘다.
## 웹 어플리케이션 개발
- 인터넷을 통해 사용자에게 제공되는 소프트웨어 프로그램을 구축화는 과정
- 웹의 동장 방식은 클라이언트-서버 구조로 clinet 즉, 우리가 서버에 요청하면 서버가 응답을 하는 구조이다. 이 틀에서 벗어나지 않는다.
- 클라이언트는 사용자의 웹 브라우저, 모바일 앱을 말한다. 그리고 서버는 웹 서버, 데이터베이스 서버를 말한다.
- 조금 자세히 하면 먼저 클라이언트에서 요청을 하면 전 세계 어디에 있는 서버에 파일을 달라고 요청한 것이다. 그리고 해당 서버는 데이터베이스에서 파일을 찾아 응답하고 클라이언트는 전달받은 파일을 사람이 볼 수 있도록 해석해주고 사용자는 구글의 메인페이지를 보게 됨.
- 다시 말하지만 요청-응답은 절대로 변하지 않는 구조이다.
## 프론트엔드, 백엔드
- 프론트엔드는 UI를 구성, 사용자가 어플리케이션과 상호작용 할 수 있도록 한다. 백엔드는 서버측과 동작하며, 클라이언트의 요청에 대한 데이터베이스와의 상호 작용 등을 담당한다.
- 그리고 디장고는 백엔드 즉, 서버 쪽이다.
## 프레임워크
- 웹 프레임워크는 웹 어플리케이션을 빠르게 개발할 수 있도록 도와주는 도구이다. 보통 규칙, 라이브러리 등을 제공한다.
## django framework
- 일단 장고다. 'd' 는 묵음임.
- 이것은 파이썬 기발의 대표적인 웹 프레임워크이다.
- 장고를 사용하는 이유는 다양성, 확장성, 보안, 커뮤니티 지원 기능을 가지고 있기 때문이다.
- 장고는 대규모 프레임워크에서 사용되는데 대표적으로 인스타그램, 드롭박스 같은 것이 있다.
- 그리고 작년 기준으로 장고는 2번째로 인기있는 백엔드 프레임워크이다.
- 그리고 우리는 장고를 사용해 서버를 구현할 것이다.
## 가상환경
- 하나의 컴퓨터 안에서 또 다른 독립된 파이썬 환경
- 예를 들어 한 개발자가 2개의 프로젝트를 진행해야 할 때 2개의 프로젝트를 다른 패키지 버전 사용을 위한 독립적인 개발 환경이 필요할 때 쓰인다. 서로 다른 패키지를 사용하면 충돌이 발생하기에 이를 피하기 위해 독립적인 개발 환경이 필요하며 이 상황에 시나리오가 필요하다.
- 조금 더 비유하면 같은 집(컴퓨터) 안에, 방(가상환경)을 따로 만들어 두고 필요한 물건(라이브러리, 패키지 등)을 그 방에만 들여놓는 것과 비슷.
## 가상 환경 생성 및 활성화
- 1. python - m venv venv: 현 디렉토리에 venv라는 폴더가 생성되고 venv 폴더안에는 파이썬 실행파일, 라이브러리 등을 담을 공간이 마련된다. 
- 또한 이 경우에 venv라는 이름의 가상환경을 생성한 것이며 임의의 이름으로 생성이 가능하나 관례적인 venv 이름을 사용
- 2. 가상환경 활성화
- source venv/Scripts/activate
- 3. 가상환경 종료
- 터미널을 강제 종료 해도 되긴 하는데 비추천
- deactivate 쓰기
- 그러면 원상태로 돌아온다.
## 의존성 패키지
- 프로젝트가 의존하는 개별 라이브러리들을 카리키는 말이다.
- 1. 패키지 목록 확인
- pip list
- 현재 가상환경에 설치된 라이브러리 목록을 확인
- 2. pip freeze > requirements.txt
- 의존성 기록
- 이 파일을 만드면 나중에 동일한 환경을 재현할 때 유용하다.
- 그리고 pip freeze 명령어는 가상환경에 설치된 모든 패키지를 버전과 함께 출력한다.
- 협업 시에도 팀원들이 똑같은 버전의 라이브러리를 설치하도록 공유 가능
- 일단 freeze 먼저 하고 pip freeze > requirements.txt 하기
- 패키지마다 버전이 다르고 프로젝트가 커질수록 사용하는 패키지 개수도 늘어나기 때문에 의존성 리스트를 만들어 어떤 버전을 쓰고 있는지 기록 및 공유가 필수적이다.
- 그리고 무조건 requirements.txt 이 파일명으로 만들어야 한다.
- 3. 의존성 패키지 기반 설치
- pip install -r requirements.txt
- 이 명령어를 쓰면 해당 텍스트에 기록된 패키지와 버전을 읽어와 같은 환경으로 설치한다.
- 라이브러리 설치 순서는 없긴 한데 간혹 가이드문서에 이 순서대로 설치하라고 뜨면 그대로 설치하면 된다.
- 4. 가상환경 주의사항
- 가상환경에 "들어오고 나오는" 것이 아니라 사용할 파이썬 환경을 "on/off"로 전환하는 개념
- venv의 환경에서 상위로 가도  venv는 꺼지지 않는다.
- 그런데 새 터미널 창을 열면 다시 활성화 해야 한다.
- 프로젝트마다 별도의 가상환경을 사용
- 일반적으로 가상환경 폴더 venv는 관련된 프로젝트와 동일한 경로에 위치시킴.
- 폴더venv는 .gitignore파일에 작성되어 원격저장소에 공유되지 않도록 해야 한다.
- 5. 가상환경이 필요한 이유
- 프로젝트마다 다른 버전의 라이브러리를 사용하고 의존성 충돌을 방지하며 팀원 간 협업을 위해 필요하다.
- 필수과정 요약:  
  - 1. 가상환경을 만든다
  - 2. 가상환경을 활성화한다.
  - 3. 필요한 의존성 패키지를 설치
  - 4. 현재 환경의 모든 패키지목록을 저장하여 의존성 관리
  - 5. 다른 컴퓨터나 팀원도 필요하다면 동일한 버전의 라이브러리를 설치
  - 6. 작업이 끝나면 deactive로 가상환경을 비활성화
## 프로젝트 생성
- django-admin startproject firstpjt . 이때 startproject까지는 무조건 외우기. 다음은 파일 이름
- python manage.py runserver: manage.py와 동일한 위치에서 명령어 진행
- 서버 확인
## 디자인 패턴
- 소프트웨어 설계에서 발생하는 문제를 해결하기 위한 일반적인 해결책
- 어플리케이션 구조는 이렇게 구성하자 라는 관행
- MVC 디자인 패턴:  
  - 데이터, 사용자 인터페이스, 비즈니스 로직을 분리한다.
  - (model, view, controller)
- 그런데 장고에서는 구조는는 같지만 이름을 바꿔서 부름
- MTV 디자인 패턴:  
  - (model, template, view)
  - 기존 mvs패턴과 동일하나 단순히 명칭을 다르게 정의한 것
  - 단순히 명칭만 변경
## 프로젝트와 앱
- 프로젝트 안에 앱이 여러개 있고 이것이 프로젝트를 구성한다.
- 만약 온라인 커뮤니티 카페를 만든다면 카페가 프로젝트이며 앱은 게시글, 댓글, 회원 관리라고 할 수 있다.
- 앱을 사용하기 위해서는 앱을 생성하고 앱을 등록해야 한다.
- 앱 생성:  
  - python manae.py startapp articles
  - 앱의 이름은 복수형으로 지정하는 것을 권장
- 앱 등록:  
  - 반드시 앱을 생성한 후에 등록해야 한다.
  - installed_apps에 'articles', 를 등록해야 한다.
## 프로젝트 및 앱 구조
- settings.py, urls.py, __init__.py, asgi.py, wsgi.py, manage.py
- 그런데 수정하는 것은 settings.py, urls.py 이렇게 2개 뿐이다. 나머지는 수정 안한다.
- 앱에서는 3개만 보면 된다. admin.py, models.py, views.py 
- 나머지는 수정 안한다.
## 요청과 응답
- 순서:  
  - 요청 -> urls.py -> views.py <-> (models.py, temlplates) -> 응답
- url경로는 반드시 '/'(slash로 끝나야 한다.)